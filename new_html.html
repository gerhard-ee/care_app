<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The CARE Framework for Data Architects</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .spinner {
            display: inline-block;
            width: 1.25rem;
            height: 1.25rem;
            border: 3px solid rgba(255,255,255,0.3);
            border-right-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
    </style>
</head>
<body class="gradient-bg text-gray-800">

    <!-- Main Container -->
    <div class="container mx-auto p-4 md:p-8 lg:p-12">

        <!-- Header Section -->
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-2">The CARE Framework</h1>
            <p class="text-lg md:text-xl text-gray-700">A Strategic Guide for Modern Data Architects</p>
        </header>

        <!-- Framework Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">

            <!-- C - Context Card -->
            <div class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300">
                <div class="flex items-center mb-4">
                    <div class="bg-blue-500 text-white rounded-full h-12 w-12 flex items-center justify-center text-2xl font-bold mr-4 shrink-0">C</div>
                    <div>
                        <h2 class="text-3xl font-bold text-gray-900">Context</h2>
                        <p class="text-blue-600 font-semibold">Start with 'Why'</p>
                    </div>
                </div>
                <ul class="list-disc list-inside space-y-2 text-gray-600">
                    <li>What business outcome does this drive?</li>
                    <li>Why are we doing this now? What's the urgency?</li>
                    <li>How will we measure success?</li>
                    <li>Who is the ultimate consumer of this data?</li>
                </ul>
            </div>

            <!-- A - Assumptions Card -->
            <div class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300">
                <div class="flex items-center mb-4">
                    <div class="bg-green-500 text-white rounded-full h-12 w-12 flex items-center justify-center text-2xl font-bold mr-4 shrink-0">A</div>
                    <div>
                        <h2 class="text-3xl font-bold text-gray-900">Assumptions</h2>
                        <p class="text-green-600 font-semibold">Uncover Hidden Risks</p>
                    </div>
                </div>
                <ul class="list-disc list-inside space-y-2 text-gray-600">
                    <li>What are we assuming about the data's quality, volume, or schema?</li>
                    <li>What are we assuming about user behavior or skills?</li>
                    <li>What happens if this assumption is wrong?</li>
                </ul>
            </div>

            <!-- R - Risks & Restraints Card -->
            <div class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300">
                 <div class="flex items-center mb-4">
                    <div class="bg-red-500 text-white rounded-full h-12 w-12 flex items-center justify-center text-2xl font-bold mr-4 shrink-0">R</div>
                    <div>
                        <h2 class="text-3xl font-bold text-gray-900">Risks & Restraints</h2>
                        <p class="text-red-600 font-semibold">Define Boundaries</p>
                    </div>
                </div>
                <ul class="list-disc list-inside space-y-2 text-gray-600">
                    <li>What are the non-functional requirements (Security, Latency)?</li>
                    <li>What is the operational budget for this system?</li>
                    <li>What does failure look like, and how do we recover?</li>
                </ul>
            </div>

            <!-- E - Evolution Card -->
            <div class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300">
                <div class="flex items-center mb-4">
                    <div class="bg-purple-500 text-white rounded-full h-12 w-12 flex items-center justify-center text-2xl font-bold mr-4 shrink-0">E</div>
                    <div>
                        <h2 class="text-3xl font-bold text-gray-900">Evolution</h2>
                        <p class="text-purple-600 font-semibold">Plan for the Future</p>
                    </div>
                </div>
                <ul class="list-disc list-inside space-y-2 text-gray-600">
                    <li>How will this system need to adapt in the next 2-5 years?</li>
                    <li>What's the most likely change request we'll get soon?</li>
                    <li>How do we avoid painting ourselves into a corner?</li>
                </ul>
            </div>
        </div> <!-- End Grid -->
        
        <!-- AI Co-pilot Section -->
        <div class="bg-white/90 backdrop-blur-md rounded-2xl shadow-2xl p-6 md:p-8">
            <div class="text-center mb-6">
                 <h3 class="text-3xl font-bold text-gray-900">âœ¨ CARE AI Co-pilot</h3>
                 <p class="text-gray-600 mt-1">Your strategic brainstorming partner.</p>
            </div>
            
            <div>
                <label for="project-description" class="block text-lg font-semibold text-gray-800 mb-2">1. Describe Your Data Project</label>
                <textarea id="project-description" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:outline-none transition" rows="3" placeholder="e.g., 'Build a predictive maintenance model for factory equipment using sensor data.'"></textarea>
            </div>
            
            <div class="mt-6">
                <label class="block text-lg font-semibold text-gray-800 mb-3">2. Generate Strategic Insights</label>
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4">
                    <button data-section="context" class="ai-button group flex items-center justify-center w-full bg-blue-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-600 transition-all duration-300 transform hover:scale-105">
                        <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        Context
                    </button>
                    <button data-section="assumptions" class="ai-button group flex items-center justify-center w-full bg-green-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-600 transition-all duration-300 transform hover:scale-105">
                        <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                        Assumptions
                    </button>
                    <button data-section="risks" class="ai-button group flex items-center justify-center w-full bg-red-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-red-600 transition-all duration-300 transform hover:scale-105">
                       <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                        Risks
                    </button>
                     <button data-section="evolution" class="ai-button group flex items-center justify-center w-full bg-purple-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-purple-600 transition-all duration-300 transform hover:scale-105">
                       <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
                        Evolution
                    </button>
                </div>
            </div>

            <div id="ai-response-container" class="mt-8 p-6 bg-gray-50 rounded-lg border border-gray-200 hidden min-h-[100px]">
                <!-- AI response will be injected here -->
            </div>

        </div>

        <!-- Footer -->
        <footer class="text-center mt-12 text-gray-600">
            <p>Apply the CARE framework to build data solutions that are robust, relevant, and ready for tomorrow.</p>
        </footer>
    </div> <!-- End Main Container -->

    <script type="module">
        // --- Gemini API Call Logic ---
        async function callGemini(prompt) {
            let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
            const payload = { contents: chatHistory };
            // API Key is an empty string as it will be provided by the environment
            const apiKey = "";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API call failed with status: ${response.status}`);
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    console.error("Unexpected response structure:", result);
                    if(result.candidates && result.candidates[0].finishReason === 'SAFETY') {
                        return "### Generation Blocked\nThe generated response was blocked for safety reasons. Please try rephrasing your project description.";
                    }
                    return "### Error\nSorry, I couldn't generate a response. The returned data was empty or structured unexpectedly.";
                }
            } catch (error) {
                console.error('Error calling Gemini API:', error);
                return `### Error\nAn error occurred while contacting the AI assistant: ${error.message}. Please check the console for more details.`;
            }
        }

        // --- Prompt Generation ---
        function getPrompt(section, userInput) {
            const basePrompt = `As a senior data architect, analyze the following project description: "${userInput}".`;
            const formatInstruction = "Format the output as a bulleted list using markdown (* item). Start each bullet point with a bolded title (e.g., **Business Outcome:**)."
            switch (section) {
                case 'context':
                    return `${basePrompt} Based on the 'Context' pillar of the CARE framework, generate three key questions the project lead should be asking to clarify the 'Why'. Focus on business outcomes, urgency, and success metrics. ${formatInstruction}`;
                case 'assumptions':
                    return `${basePrompt} Based on the 'Assumptions' pillar of the CARE framework, identify three critical hidden assumptions that might exist in this project. For each assumption, explain the potential risk if it's wrong. ${formatInstruction}`;
                case 'risks':
                    return `${basePrompt} Based on the 'Risks & Restraints' pillar of the CARE framework, brainstorm a list of three potential risks (covering security, operational, and technical aspects) and suggest a possible mitigation strategy for each. ${formatInstruction}`;
                case 'evolution':
                    return `${basePrompt} Based on the 'Evolution' pillar of the CARE framework, suggest three ways this system might need to evolve in the next 3-5 years. Explain how the architecture can be designed now to accommodate these future changes. ${formatInstruction}`;
                default:
                    return userInput;
            }
        }

        function getResponseTitle(section) {
            switch(section) {
                case 'context': return 'AI-Generated Context Questions';
                case 'assumptions': return 'AI-Generated Assumptions Analysis';
                case 'risks': return 'AI-Generated Risks & Mitigations';
                case 'evolution': return 'AI-Generated Evolution Paths';
                default: return 'AI Response';
            }
        }
        
        // --- DOM Manipulation and Event Handling ---
        const buttons = document.querySelectorAll('.ai-button');
        const textarea = document.getElementById('project-description');
        const responseContainer = document.getElementById('ai-response-container');

        buttons.forEach(button => {
            button.addEventListener('click', async (event) => {
                const section = event.target.closest('button').dataset.section;
                const userInput = textarea.value;

                if (!userInput.trim()) {
                    responseContainer.innerHTML = '<p class="text-red-600 font-semibold text-center">Please describe your project first.</p>';
                    responseContainer.classList.remove('hidden');
                    textarea.focus();
                    return;
                }

                // Show loading state and disable all buttons
                responseContainer.classList.remove('hidden');
                responseContainer.innerHTML = `<div class="flex flex-col items-center justify-center h-full"><div class="spinner mb-4"></div><p class="text-lg font-semibold text-gray-700">Generating ${section} insights...</p></div>`;
                buttons.forEach(btn => btn.disabled = true);

                const prompt = getPrompt(section, userInput);
                const resultText = await callGemini(prompt);

                // Basic markdown to HTML conversion
                const formattedHtml = resultText
                    .replace(/### (.*?)\n/g, '<h4 class="text-xl font-bold text-gray-800 mb-3">$1</h4>') // H3
                    .replace(/\*\*(.*?)\*\*/g, '<strong class="text-gray-900">$1</strong>') // Bold titles
                    .replace(/^\* (.*$)/gm, '<li class="mb-3">$1</li>') // List items.
                    .replace(/(<li>[\s\S]*<\/li>)/s, '<ul class="list-disc list-outside">$1</ul>'); // Wrap in ul

                const title = getResponseTitle(section);
                
                responseContainer.innerHTML = `
                    <h4 class="text-xl font-bold text-gray-800 mb-4">${title}</h4>
                    <div class="prose max-w-none text-gray-700">${formattedHtml}</div>
                `;

                // Re-enable all buttons
                buttons.forEach(btn => btn.disabled = false);
            });
        });
    </script>
</body>
</html>
